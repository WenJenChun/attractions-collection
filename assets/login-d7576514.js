import"./main-1da5e8c0.js";const l=localStorage.getItem("token")!==null,c=localStorage.getItem("role")==="admin",s=document.getElementById("header-content");s.innerHTML=`
<%- include('./layout/header.ejs', { isLogIn: ${l}, isAdmin: ${c} }); -%>
`;const a=document.querySelector("#userEmail"),r=document.querySelector("#userPassword"),i=document.querySelector("#loginBtn"),u="https://attractions-api-jhwt.onrender.com";let o,t,n;document.querySelector("#testArea");console.log("hi from Log In");function d(){axios.post(u+"/login",{email:a.value,password:r.value}).then(function(e){console.log("response 回傳"),console.log(e.data),o=e.data.accessToken,t=e.data.user.role,n=e.data.user.id,localStorage.setItem("token",o),localStorage.setItem("role",t),localStorage.setItem("userId",n)}).catch(function(e){console.log("錯誤訊息"),console.log(e.response)})}i.addEventListener("click",function(e){d(),alert("歡迎回來！"),window.location.href="https://wenjenchun.github.io/attractions-collection/index.html"});
